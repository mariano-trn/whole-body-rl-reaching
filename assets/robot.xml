<mujoco model="simple_humanoid_reacher">
  <compiler angle="degree" coordinate="local" inertiafromgeom="true"/>
  <option timestep="0.002" gravity="0 0 -9.81" iterations="50" solver="Newton"/>

  <!-- Default settings -->
  <default>
    <joint limited="true" damping="1.0" armature="0.01"/>
    <geom contype="1" conaffinity="1" friction="1.2 0.02 0.0001"
          solref="0.02 1" solimp="0.9 0.95 0.001"
          density="500"/>
    <motor ctrllimited="true" ctrlrange="-1 1"/>
  </default>

  <asset>
    <texture type="skybox" builtin="gradient" rgb1="0.9 0.9 0.95" rgb2="0.6 0.7 0.9" width="256" height="256"/>
    <material name="mat_body" rgba="0.2 0.2 0.25 1"/>
    <material name="mat_foot" rgba="0.15 0.15 0.15 1"/>
    <material name="mat_target" rgba="1 0.2 0.2 1"/>
  </asset>

  <worldbody>
    <!-- Ground -->
    <geom name="ground" type="plane" size="5 5 0.1" rgba="0.9 0.9 0.9 1"
          friction="1.3 0.02 0.0001"/>

    <!-- Target site (will be moved in Python by setting site_pos) -->
    <site name="target_site" type="sphere" size="0.03" rgba="1 0.2 0.2 1"/>

    <!-- Humanoid -->
    <body name="pelvis" pos="0 0 1.0">
      <freejoint name="root"/>

      <!-- pelvis geom -->
      <geom name="pelvis_geom" type="box" size="0.08 0.06 0.05" material="mat_body"/>

      <!-- torso -->
      <body name="torso" pos="0 0 0.12">
        <joint name="spine_pitch" type="hinge" axis="0 1 0" range="-20 20"/>
        <geom name="torso_geom" type="box" size="0.09 0.06 0.12" material="mat_body"/>

        <!-- Right arm (reaching arm) -->
        <body name="r_shoulder" pos="0.10 -0.06 0.10">
          <joint name="r_shoulder_pitch" type="hinge" axis="0 1 0" range="-90 90"/>
          <joint name="r_shoulder_roll"  type="hinge" axis="1 0 0" range="-60 60"/>
          <geom name="r_upperarm_geom" type="capsule" fromto="0 0 0  0.18 0 0" size="0.03" material="mat_body"/>

          <body name="r_elbow" pos="0.18 0 0">
            <joint name="r_elbow_pitch" type="hinge" axis="0 1 0" range="0 135"/>
            <geom name="r_forearm_geom" type="capsule" fromto="0 0 0  0.16 0 0" size="0.025" material="mat_body"/>

            <body name="r_hand" pos="0.16 0 0">
              <geom name="r_hand_geom" type="sphere" size="0.03" material="mat_body"/>
              <site name="end_effector" pos="0.04 0 0" size="0.01" rgba="0.2 1 0.2 1"/>
            </body>
          </body>
        </body>
      </body>

      <!-- Right leg -->
      <body name="r_hip" pos="0 -0.06 0">
        <joint name="r_hip_yaw"   type="hinge" axis="0 0 1" range="-30 30"/>
        <joint name="r_hip_roll"  type="hinge" axis="1 0 0" range="-25 25"/>
        <joint name="r_hip_pitch" type="hinge" axis="0 1 0" range="-60 30"/>
        <geom name="r_thigh_geom" type="capsule" fromto="0 0 0  0 0 -0.35" size="0.045" material="mat_body"/>

        <body name="r_knee" pos="0 0 -0.35">
          <joint name="r_knee_pitch" type="hinge" axis="0 1 0" range="0 140"/>
          <geom name="r_shank_geom" type="capsule" fromto="0 0 0  0 0 -0.35" size="0.04" material="mat_body"/>

          <body name="r_ankle" pos="0 0 -0.35">
            <joint name="r_ankle_pitch" type="hinge" axis="0 1 0" range="-40 40"/>
            <joint name="r_ankle_roll"  type="hinge" axis="1 0 0" range="-25 25"/>

            <body name="r_foot" pos="0 0 -0.05">
              <geom name="r_foot_geom" type="box" size="0.09 0.04 0.02" pos="0.05 0 0" material="mat_foot"/>
            </body>
          </body>
        </body>
      </body>

      <!-- Left leg -->
      <body name="l_hip" pos="0 0.06 0">
        <joint name="l_hip_yaw"   type="hinge" axis="0 0 1" range="-30 30"/>
        <joint name="l_hip_roll"  type="hinge" axis="1 0 0" range="-25 25"/>
        <joint name="l_hip_pitch" type="hinge" axis="0 1 0" range="-60 30"/>
        <geom name="l_thigh_geom" type="capsule" fromto="0 0 0  0 0 -0.35" size="0.045" material="mat_body"/>

        <body name="l_knee" pos="0 0 -0.35">
          <joint name="l_knee_pitch" type="hinge" axis="0 1 0" range="0 140"/>
          <geom name="l_shank_geom" type="capsule" fromto="0 0 0  0 0 -0.35" size="0.04" material="mat_body"/>

          <body name="l_ankle" pos="0 0 -0.35">
            <joint name="l_ankle_pitch" type="hinge" axis="0 1 0" range="-40 40"/>
            <joint name="l_ankle_roll"  type="hinge" axis="1 0 0" range="-25 25"/>

            <body name="l_foot" pos="0 0 -0.05">
              <geom name="l_foot_geom" type="box" size="0.09 0.04 0.02" pos="0.05 0 0" material="mat_foot"/>
            </body>
          </body>
        </body>
      </body>

    </body>
  </worldbody>

  <!-- Actuators: position control per joint -->
  <actuator>
    <!-- spine -->
    <position name="act_spine_pitch" joint="spine_pitch" kp="80" ctrlrange="-0.35 0.35"/>

    <!-- right arm -->
    <position name="act_r_shoulder_pitch" joint="r_shoulder_pitch" kp="60" ctrlrange="-1.2 1.2"/>
    <position name="act_r_shoulder_roll"  joint="r_shoulder_roll"  kp="60" ctrlrange="-1.0 1.0"/>
    <position name="act_r_elbow_pitch"    joint="r_elbow_pitch"    kp="50" ctrlrange="0 2.2"/>

    <!-- right leg -->
    <position name="act_r_hip_yaw"   joint="r_hip_yaw"   kp="120" ctrlrange="-0.6 0.6"/>
    <position name="act_r_hip_roll"  joint="r_hip_roll"  kp="140" ctrlrange="-0.5 0.5"/>
    <position name="act_r_hip_pitch" joint="r_hip_pitch" kp="240" ctrlrange="-1.0 0.5"/>
    <position name="act_r_knee"      joint="r_knee_pitch" kp="320" ctrlrange="0 2.4"/>
    <position name="act_r_ankle_pitch" joint="r_ankle_pitch" kp="180" ctrlrange="-0.7 0.7"/>
    <position name="act_r_ankle_roll"  joint="r_ankle_roll"  kp="160" ctrlrange="-0.5 0.5"/>

    <!-- left leg -->
    <position name="act_l_hip_yaw"   joint="l_hip_yaw"   kp="120" ctrlrange="-0.6 0.6"/>
    <position name="act_l_hip_roll"  joint="l_hip_roll"  kp="140" ctrlrange="-0.5 0.5"/>
    <position name="act_l_hip_pitch" joint="l_hip_pitch" kp="240" ctrlrange="-1.0 0.5"/>
    <position name="act_l_knee"      joint="l_knee_pitch" kp="320" ctrlrange="0 2.4"/>
    <position name="act_l_ankle_pitch" joint="l_ankle_pitch" kp="180" ctrlrange="-0.7 0.7"/>
    <position name="act_l_ankle_roll"  joint="l_ankle_roll"  kp="160" ctrlrange="-0.5 0.5"/>
  </actuator>
</mujoco>
